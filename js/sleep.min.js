var intervalTimer=setInterval((function(){updateEverything()}),UPDATE_TIME),desiredHoursOfSleep=getUserSleep(),userCustomSleepTime=getCustomTime(),splitNotifications=[],notifications=getNotifications();function updateEverything(){updateCurrentTime(),updateCustomTime(userCustomSleepTime),updateAllDefaults()}function updateDesiredHoursOfSleep(e){document.getElementById("desired_sleep_div").innerText=`${e}`}function updateCustomTime(e){const t=e.split(":"),i=new Date(now);setDateToNextTime(i,parseInt(t[0],10),parseInt(t[1],10));document.getElementById("custom_time_div").innerText=`Next ${e} (${twelveHourTime(i)}) is\n${i.toString()}`;document.getElementById("time_until_custom").innerText=`Time until ${e} is\n${moment.preciseDiff(i,now)}`;const o=setTimeUntilOrSinceEvent("time_until_custom_bedtime",i,desiredHoursOfSleep,"bedtime");o>=0&&handleNotifications(o)}function handleNotifications(e){for(const t of splitNotifications)t>=0&&isTimeToNotify(t,e)&&createNotification(`${t} minutes until bedtime`,`Waking at ${userCustomSleepTime}, ${desiredHoursOfSleep} hours of sleep`,!0)}function updateSomeDefault(e,t,i,o){const n=new Date(now);setDateToNextTime(n,e,t);document.getElementById(o).innerText=`Next ${i} is\n${n.toString()}`;document.getElementById(`timeUntil${o}`).innerText=`Time until ${i} is\n${moment.preciseDiff(n,now)}`,setTimeUntilOrSinceEvent(`timeUntilBedtime${o}`,n,desiredHoursOfSleep,"bedtime")}function updateAllDefaults(){updateSomeDefault(7,0,"7:00 AM","700"),updateSomeDefault(7,30,"7:30 AM","730"),updateSomeDefault(8,0,"8:00 AM","800"),updateSomeDefault(8,30,"8:30 AM","830"),updateSomeDefault(9,0,"9:00 AM","900")}function setUserSleep(){const e=prompt("Enter the hours of sleep (example: 8 for 8 hr, 7.5 for 7 hr 30 min)");null==e||""==e?alert("INVALID INPUT"):(localStorage.removeItem("desiredHoursOfSleep"),localStorage.setItem("desiredHoursOfSleep",e),updateDesiredHoursOfSleep(desiredHoursOfSleep=e))}function getUserSleep(){let e=localStorage.getItem("desiredHoursOfSleep");return null==e&&(e=8),e}function setCustomTime(){const e=prompt("Enter the time in 24 hr format (example: 7:45, 8:00, 9:15)");null==e||""==e?alert("INVALID INPUT"):(localStorage.removeItem("customSleepTime"),localStorage.setItem("customSleepTime",e),userCustomSleepTime=e)}function getCustomTime(){let e=localStorage.getItem("customSleepTime");return null==e&&(e="9:00"),e}function setNotifications(){const e=prompt("Enter notifications");null==e||""==e?alert("INVALID INPUT"):(localStorage.removeItem("sleepNotifications"),localStorage.setItem("sleepNotifications",e),notifications=getNotifications(),showNotifications())}function getNotifications(){let e=localStorage.getItem("sleepNotifications");return null==e&&(e="0"),splitNotifications=e.split(","),e}function showNotifications(){document.getElementById("notifications_div").innerText=notifications}updateDesiredHoursOfSleep(desiredHoursOfSleep),showNotifications();